---
title: "Analysis"
output:
  github_document:
    html_preview: TRUE
---
```{r Data Loading and Cleaning}
library(gapminder)
data(gapminder)
library(tidyverse)
library(readr)

head(gapminder)
setwd("/Users/kohanchen/Documents/2025_Winter/Data Visualization/assignment-5-Kohaningithub/")

nuclear_data <- read_csv("data/nuclear_power_generation_per_person.csv")
electricity_data <- read_csv("data/electricity_use_per_person.csv")
co2_data <- read_csv("data/co2_pcap_cons.csv")

# Convert all columns to numeric except for country
nuclear_data <- nuclear_data %>%
    mutate(across(-country, as.numeric)) 

electricity_data <- electricity_data %>%
    mutate(across(-country, as.numeric))

co2_data <- co2_data %>%
    mutate(across(-country, as.numeric))

# Convert to long format
nuclear_long <- nuclear_data %>%
    pivot_longer(cols = -country, names_to = "year", values_to = "nuclear_per_person")

electricity_long <- electricity_data %>%
    pivot_longer(cols = -country, names_to = "year", values_to = "electricity_per_person")

co2_long <- co2_data %>%
    pivot_longer(cols = -country, names_to = "year", values_to = "co2_per_capita")

# Combine the data
combined_data <- nuclear_long %>%
    inner_join(electricity_long, by = c("country", "year")) %>%
    inner_join(co2_long, by = c("country", "year"))
```
